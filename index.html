<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Cadastro - Produtos e Receitas</title>
    <link rel="stylesheet" href="css/main.css">

        <!-- ‚úÖ ADICIONAR ESTAS LINHAS AQUI ‚úÖ -->

    <!-- ‚úÖ AT√â AQUI ‚úÖ -->
</head>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>
<script src="js/auth.js"></script>
<body>
    <div class="container">
        <div class="header">
            <h1>Sistema de Cadastro - Produtos e Receitas</h1>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('produtos')">Cadastro de Produtos</button>
            <button class="tab" onclick="showTab('receitas')">Cadastro de Receitas</button>
            <button class="tab" onclick="showTab('tipos-refeicoes')">Tipos de Refei√ß√µes</button>
            <button class="tab" onclick="showTab('clientes')">Cadastro de Clientes</button>
            <button class="tab" onclick="showTab('cardapio')">Planejamento de Card√°pio</button>
        </div>

        <div class="content">
            <!-- Cadastro de Produtos -->
            <div id="produtos" class="tab-content">
                <div class="section">
                    <h2>Cadastro de Produtos</h2>
                    <form id="formProduto">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="codigoProduto" class="required">C√≥digo do Item</label>
                                <input type="text" id="codigoProduto" readonly>
                            </div>
                            <div class="form-group">
                                <label for="descricaoProduto" class="required">Descri√ß√£o do Item</label>
                                <input type="text" id="descricaoProduto" maxlength="50" required>
                            </div>
                            <div class="form-group">
                                <label for="grupoProduto" class="required">Grupo</label>
                                <select id="grupoProduto" required>
                                    <option value="">Selecione...</option>
                                    <option value="Ingredientes">Ingredientes</option>
                                    <option value="Descart√°veis">Descart√°veis</option>
                                    <option value="Outros produtos">Outros produtos</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="unidadeMedida" class="required">Unidade de Medida B√°sica</label>
                                <select id="unidadeMedida" required>
                                    <option value="">Selecione...</option>
                                    <option value="KG">KG</option>
                                    <option value="L">L</option>
                                    <option value="UN">UN</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="pesoBruto">Peso Bruto</label>
                                <input type="number" id="pesoBruto" step="0.001">
                            </div>
                            <div class="form-group">
                                <label for="unidadePeso">Unidade de Peso</label>
                                <select id="unidadePeso">
                                    <option value="">Selecione...</option>
                                    <option value="KG">KG</option>
                                    <option value="gr">gr</option>
                                    <option value="mg">mg</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="pesoLiquido">Peso L√≠quido</label>
                                <input type="number" id="pesoLiquido" step="0.001">
                            </div>
                            <div class="form-group">
                                <label for="volumeM3">Volume M¬≥</label>
                                <input type="number" id="volumeM3" step="0.001">
                            </div>
                            <div class="form-group">
                                <label for="perdaPercent">Perda %</label>
                                <input type="number" id="perdaPercent" step="0.01" max="100">
                            </div>
                            <div class="form-group">
                                <label for="precoItem">Pre√ßo do Item R$</label>
                                <input type="number" id="precoItem" step="0.01">
                            </div>
                        </div>
                        <div class="actions">
                            <button type="submit" class="btn btn-primary">Salvar Produto</button>
                            <button type="button" class="btn btn-secondary" onclick="limparFormularioProduto()">Limpar</button>
                        </div>
                    </form>
                </div>

                <div class="section">
                    <h3>Lista de Produtos</h3>
                    <div class="table-responsive">
                        <table id="tabelaProdutos">
                            <thead>
                                <tr>
                                    <th>C√≥digo</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Grupo</th>
                                    <th>UMB</th>
                                    <th>Pre√ßo</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Cadastro de Receitas -->
            <div id="receitas" class="tab-content hidden">
                <div class="section">
                    <h2>Cadastro de Receitas</h2>
                    <form id="formReceita">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="codigoReceita" class="required">C√≥digo da Receita</label>
                                <input type="text" id="codigoReceita" readonly>
                            </div>
                            <div class="form-group">
                                <label for="descricaoReceita" class="required">Descri√ß√£o da Receita</label>
                                <input type="text" id="descricaoReceita" maxlength="50" required>
                            </div>
                            <div class="form-group">
                                <label for="pesoFinal">Peso Final</label>
                                <input type="number" id="pesoFinal" step="0.001" readonly placeholder="0,000">
                            </div>
                            <div class="form-group">
                                <label for="rendimento">Rendimento</label>
                                <input type="number" id="rendimento" step="0.001" placeholder="0,000">
                            </div>
                            <div class="form-group">
                                <label for="unidadeRendimento">Unidade do Rendimento</label>
                                <select id="unidadeRendimento">
                                    <option value="">Selecione...</option>
                                    <option value="UN">UN</option>
                                    <option value="KG">KG</option>
                                    <option value="L">L</option>
                                </select>
                            </div>
                        </div>

                        <!-- Editor de Receita -->
                        <div class="form-group full-width">
                            <label for="textoReceita">Modo de Preparo</label>
                            <div class="recipe-editor" id="recipeEditor">
                                <!-- Barra de Ferramentas -->
                                <div class="editor-toolbar">
                                    <div class="toolbar-group">
                                        <button type="button" class="toolbar-btn" onclick="formatText('bold')" title="Negrito (Ctrl+B)">
                                            <strong>B</strong>
                                        </button>
                                        <button type="button" class="toolbar-btn" onclick="formatText('italic')" title="It√°lico (Ctrl+I)">
                                            <em>I</em>
                                        </button>
                                        <button type="button" class="toolbar-btn" onclick="formatText('underline')" title="Sublinhado (Ctrl+U)">
                                            <u>U</u>
                                        </button>
                                    </div>
                                    
                                    <div class="toolbar-group">
                                        <select class="font-size-select" onchange="changeFontSize(this.value)" title="Tamanho da fonte">
                                            <option value="12px">12px</option>
                                            <option value="14px" selected>14px</option>
                                            <option value="16px">16px</option>
                                            <option value="18px">18px</option>
                                            <option value="20px">20px</option>
                                            <option value="24px">24px</option>
                                        </select>
                                    </div>

                                    <div class="toolbar-group">
                                        <button type="button" class="toolbar-btn" onclick="formatText('insertUnorderedList')" title="Lista com marcadores">
                                            ‚â°
                                        </button>
                                        <button type="button" class="toolbar-btn" onclick="formatText('insertOrderedList')" title="Lista numerada">
                                            1.
                                        </button>
                                    </div>

                                    <div class="toolbar-group">
                                        <button type="button" class="toolbar-btn" onclick="clearFormatting()" title="Limpar formata√ß√£o">
                                            üßπ
                                        </button>
                                    </div>

                                    <div class="toolbar-group">
                                        <button type="button" class="toolbar-btn" onclick="setEditorSize('small')" title="Tamanho pequeno">
                                            üì±
                                        </button>
                                        <button type="button" class="toolbar-btn" onclick="setEditorSize('medium')" title="Tamanho m√©dio">
                                            üíª
                                        </button>
                                        <button type="button" class="toolbar-btn" onclick="setEditorSize('large')" title="Tamanho grande">
                                            üñ•Ô∏è
                                        </button>
                                    </div>
                                </div>

                                <!-- √Årea de Edi√ß√£o -->
                                <div class="editor-content" 
                                     id="textoReceita" 
                                     contenteditable="true" 
                                     placeholder="Digite aqui o modo de preparo da receita...

Dicas de uso:
- Use Ctrl+B para negrito, Ctrl+I para it√°lico, Ctrl+U para sublinhado
- Selecione o texto antes de aplicar formata√ß√£o
- Use as listas para organizar ingredientes ou etapas
- Pressione Enter duas vezes para criar par√°grafos
- Arraste o canto inferior direito para redimensionar

Exemplo:
1. Pr√©-aque√ßa o forno a 180¬∞C
2. Em uma tigela, misture os ingredientes secos
3. Adicione os ingredientes l√≠quidos gradualmente..."
                                     oninput="updateRecipeText()"
                                     onkeydown="handleEditorKeydown(event)">
                                </div>

                                <!-- Handle de redimensionamento -->
                                <div class="resize-handle" id="resizeHandle"></div>

                                <!-- Footer -->
                                <div class="editor-footer">
                                    <div class="char-counter">
                                        <span id="charCount">0</span> caracteres
                                    </div>
                                    <div class="editor-tips">
                                        <small>üí° Dica: Use <kbd>Ctrl+B</kbd>, <kbd>Ctrl+I</kbd>, <kbd>Ctrl+U</kbd> para formata√ß√£o r√°pida</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="actions">
                            <button type="submit" class="btn btn-primary">Salvar Receita</button>
                            <button type="button" class="btn btn-secondary" onclick="limparFormularioReceita()">Limpar</button>
                            <button type="button" class="btn btn-success" onclick="previewReceita()">Visualizar</button>
                        </div>
                    </form>
                </div>

                <div class="section">
                    <h3>Ingredientes</h3>
                    <button type="button" class="btn btn-primary" onclick="abrirModalIngredientes()">Selecionar Ingredientes</button>
                    <div class="table-responsive">
                        <table id="tabelaIngredientes">
                            <thead>
                                <tr>
                                    <th>C√≥d. Produto</th>
                                    <th>Nome</th>
                                    <th>Quantidade</th>
                                    <th>UMB</th>
                                    <th>% Perda</th>
                                    <th>% Ganho</th>
                                    <th>Pre√ßo</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="section">
                    <h3>C√°lculos</h3>
                    <button type="button" class="btn btn-success" onclick="calcularReceita()">Calcular</button>
                    <div id="resultadosCalculos" class="form-grid">
                        <div class="card">
                            <h4>Pre√ßo Total</h4>
                            <p id="precoTotal">R$ 0,00</p>
                        </div>
                        <div class="card">
                            <h4>Peso Final</h4>
                            <p id="pesoFinalCalculado">0,000 KG</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>Lista de Receitas</h3>
                    <div class="table-responsive">
                        <table id="tabelaReceitas">
                            <thead>
                                <tr>
                                    <th>C√≥digo</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Peso Bruto</th>
                                    <th>Pre√ßo Total</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tipos de Refei√ß√µes -->
            <div id="tipos-refeicoes" class="tab-content hidden">
                <div class="section">
                    <h2>Cadastro de Tipos de Refei√ß√µes</h2>
                    <form id="formTipoRefeicao">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="codigoTipoRefeicao" class="required">C√≥digo do Tipo de Refei√ß√£o</label>
                                <input type="text" id="codigoTipoRefeicao" readonly>
                            </div>
                            <div class="form-group">
                                <label for="descricaoTipoRefeicao" class="required">Descri√ß√£o do Tipo de Refei√ß√£o</label>
                                <input type="text" id="descricaoTipoRefeicao" maxlength="25" required>
                            </div>
                        </div>
                        <div class="actions">
                            <button type="submit" class="btn btn-primary">Salvar Tipo de Refei√ß√£o</button>
                            <button type="button" class="btn btn-secondary" onclick="limparFormularioTipoRefeicao()">Limpar</button>
                        </div>
                    </form>
                </div>

                <div class="section">
                    <h3>Lista de Tipos de Refei√ß√µes</h3>
                    <div class="table-responsive">
                        <table id="tabelaTiposRefeicoes">
                            <thead>
                                <tr>
                                    <th>C√≥digo</th>
                                    <th>Descri√ß√£o</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Cadastro de Clientes -->
            <div id="clientes" class="tab-content hidden">
                <div class="section">
                    <h2>Cadastro de Clientes</h2>
                    <form id="formCliente">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="codigoCliente" class="required">C√≥digo do Cliente</label>
                                <input type="text" id="codigoCliente" readonly>
                            </div>
                            <div class="form-group">
                                <label for="descricaoCliente" class="required">Descri√ß√£o do Cliente</label>
                                <input type="text" id="descricaoCliente" maxlength="50" required>
                            </div>
                            <div class="form-group">
                                <label for="enderecoCliente">Endere√ßo</label>
                                <input type="text" id="enderecoCliente" maxlength="50">
                            </div>
                            <div class="form-group">
                                <label for="numeroCliente">N√∫mero</label>
                                <input type="text" id="numeroCliente" maxlength="4">
                            </div>
                            <div class="form-group">
                                <label for="telefoneCliente">Telefone</label>
                                <input type="tel" id="telefoneCliente" placeholder="(00)00000-0000">
                            </div>
                            <div class="form-group">
                                <label for="emailCliente">E-mail</label>
                                <input type="email" id="emailCliente">
                            </div>
                        </div>
                        <div class="actions">
                            <button type="submit" class="btn btn-primary">Salvar Cliente</button>
                            <button type="button" class="btn btn-secondary" onclick="limparFormularioCliente()">Limpar</button>
                        </div>
                    </form>
                </div>

                <div class="section">
                    <h3>Vincular Tipos de Refei√ß√µes</h3>
                    <button type="button" class="btn btn-primary" onclick="abrirModalTiposRefeicao()">Adicionar Tipos de Refei√ß√£o</button>
                    <div id="tiposRefeicaoVinculados">
                    </div>
                </div>

                <div class="section">
                    <h3>Lista de Clientes</h3>
                    <div class="table-responsive">
                        <table id="tabelaClientes">
                            <thead>
                                <tr>
                                    <th>C√≥digo</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Endere√ßo</th>
                                    <th>Telefone</th>
                                    <th>E-mail</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Planejamento de Card√°pio -->
            <div id="cardapio" class="tab-content hidden">
                <!-- Calend√°rio com op√ß√£o de mostrar/ocultar -->
                <div class="calendar-toggle">
                    <button class="btn btn-secondary" onclick="toggleCalendar()">
                        <span id="calendar-toggle-text">Ocultar Calend√°rio</span>
                    </button>
                </div>
                
                <div class="calendar-container" id="calendarContainer">
                    <div class="calendar-header">
                        <button onclick="mudarMes(-1)" class="btn btn-secondary">‚ùÆ</button>
                        <span id="mesAno"></span>
                        <button onclick="mudarMes(1)" class="btn btn-secondary">‚ùØ</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                    </div>
                </div>

                <div class="section">
                    <h2>Planejamento de Card√°pio</h2>
                    <div class="form-grid cardapio-form-grid">
                        <div class="form-group">
                            <label for="clienteCardapio" class="required">Cliente</label>
                            <select id="clienteCardapio" required onchange="carregarTiposRefeicaoCliente()">
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="dataCardapio" class="required">Data</label>
                            <input type="date" id="dataCardapio" required onchange="carregarCardapioData()">
                        </div>
                        <div class="form-group">
                            <label for="totalComensais">Total Comensais</label>
                            <input type="number" id="totalComensais" min="1" class="compact-input">
                        </div>
                    </div>
                    <div class="actions">
                        <button type="button" class="btn btn-secondary compact-btn" onclick="atualizarParaTodos()">Atualizar</button>
                        <button type="button" class="btn btn-success compact-btn" onclick="calcularParaTodos()">Calcular para Todos</button>
                        <button type="button" class="btn btn-primary compact-btn" onclick="gravarParaTodos()">Gravar para Todos</button>
                        <button type="button" class="btn btn-primary compact-btn" onclick="abrirModalImpressao()">Imprimir</button>
                        <button type="button" class="btn btn-info compact-btn" onclick="abrirVisualizacaoSemanal()">üìÖ Vis√£o Semanal</button>
                    </div>
                </div>

                <div class="section">
                    <h3>Tipos de Refei√ß√µes do Cliente</h3>
                    <div id="tiposRefeicaoCardapio">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <div id="modalIngredientes" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModal('modalIngredientes')">&times;</span>
            <h2>Selecionar Ingredientes</h2>
            <div class="search-box">
                <input type="text" id="searchIngredientes" placeholder="Pesquisar por nome do produto..." onkeyup="filtrarIngredientes()">
            </div>
            <div id="listaIngredientes">
            </div>
        </div>
    </div>

    <div id="modalTiposRefeicao" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModal('modalTiposRefeicao')">&times;</span>
            <h2>Selecionar Tipos de Refei√ß√£o</h2>
            <div id="listaTiposRefeicao">
            </div>
        </div>
    </div>

    <div id="modalReceitas" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModal('modalReceitas')">&times;</span>
            <h2>Selecionar Receitas</h2>
            <div class="search-box">
                <input type="text" id="searchReceitas" placeholder="Pesquisar por nome da receita..." onkeyup="filtrarReceitas()">
            </div>
            <div id="listaReceitasModal">
            </div>
            <div class="actions">
                <button type="button" class="btn btn-primary" onclick="adicionarReceitasSelecionadas()">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- Modal Impress√£o ATUALIZADO -->
    <div id="modalImpressao" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModal('modalImpressao')">&times;</span>
            <h2>üìÑ Imprimir Card√°pio</h2>
            
            <!-- Per√≠odo -->
            <div class="form-section">
                <h4>üìÖ Per√≠odo</h4>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="dataInicioPeriodo">Data In√≠cio</label>
                        <input type="date" id="dataInicioPeriodo" required>
                    </div>
                    <div class="form-group">
                        <label for="dataFimPeriodo">Data Fim</label>
                        <input type="date" id="dataFimPeriodo" required>
                    </div>
                </div>
            </div>

            <!-- Sele√ß√£o de Clientes -->
            <div class="form-section">
                <h4>üë• Clientes</h4>
                <div class="form-group">
                    <label>
                        <input type="radio" name="tipoCliente" value="todos" checked onchange="toggleClienteSelection()">
                        Todos os clientes
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="radio" name="tipoCliente" value="especificos" onchange="toggleClienteSelection()">
                        Clientes espec√≠ficos
                    </label>
                </div>
                <div id="selecaoClientes" class="clientes-list hidden">
                    <div class="checkbox-list" id="listaClientesImpressao">
                        <!-- Clientes ser√£o carregados dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Sele√ß√£o de Tipos de Refei√ß√£o -->
            <div class="form-section">
                <h4>üçΩÔ∏è Tipos de Refei√ß√£o</h4>
                <div class="form-group">
                    <label>
                        <input type="radio" name="tipoRefeicao" value="todos" checked onchange="toggleTipoRefeicaoSelection()">
                        Todos os tipos de refei√ß√£o
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="radio" name="tipoRefeicao" value="especificos" onchange="toggleTipoRefeicaoSelection()">
                        Tipos espec√≠ficos
                    </label>
                </div>
                <div id="selecaoTiposRefeicao" class="tipos-refeicao-list hidden">
                    <div class="checkbox-list" id="listaTiposRefeicaoImpressao">
                        <!-- Tipos ser√£o carregados dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Bot√µes de Impress√£o NOVOS -->
            <div class="form-section">
                <h4>üìã Op√ß√µes de Impress√£o</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                    
                    <!-- Imprimir Preparos -->
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 15px; border: 2px solid #e9ecef; transition: all 0.3s ease;" 
                         onmouseover="this.style.borderColor='#667eea'" 
                         onmouseout="this.style.borderColor='#e9ecef'">
                        <div style="text-align: center; margin-bottom: 10px;">
                            <span style="font-size: 24px;">ü•ò</span>
                            <h5 style="margin: 5px 0; color: #333;">Preparos</h5>
                        </div>
                        <p style="font-size: 12px; color: #666; margin-bottom: 15px; text-align: center;">
                            Lista de ingredientes com quantidades calculadas para cada receita
                        </p>
                        <button type="button" class="btn btn-primary" style="width: 100%;" onclick="imprimirPreparos()">
                            Imprimir Preparos
                        </button>
                    </div>

                    <!-- Imprimir Lista de Produtos -->
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 15px; border: 2px solid #e9ecef; transition: all 0.3s ease;" 
                         onmouseover="this.style.borderColor='#28a745'" 
                         onmouseout="this.style.borderColor='#e9ecef'">
                        <div style="text-align: center; margin-bottom: 10px;">
                            <span style="font-size: 24px;">üìã</span>
                            <h5 style="margin: 5px 0; color: #333;">Lista de Produtos</h5>
                        </div>
                        <p style="font-size: 12px; color: #666; margin-bottom: 15px; text-align: center;">
                            Lista consolidada de todos os produtos necess√°rios para compras
                        </p>
                        <button type="button" class="btn btn-success" style="width: 100%;" onclick="imprimirListaProdutos()">
                            Imprimir Lista de Produtos
                        </button>
                    </div>

                    <!-- NOVO: Imprimir Receitas Completas -->
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 15px; border: 2px solid #e9ecef; transition: all 0.3s ease;" 
                         onmouseover="this.style.borderColor='#fd7e14'" 
                         onmouseout="this.style.borderColor='#e9ecef'">
                        <div style="text-align: center; margin-bottom: 10px;">
                            <span style="font-size: 24px;">üë®‚Äçüç≥</span>
                            <h5 style="margin: 5px 0; color: #333;">Receitas Completas</h5>
                        </div>
                        <p style="font-size: 12px; color: #666; margin-bottom: 15px; text-align: center;">
                            Receitas com modo de preparo e quantidades calculadas para cada cliente
                        </p>
                        <button type="button" class="btn" style="width: 100%; background: #fd7e14; color: white;" onclick="imprimirReceitasCompletas()">
                            Imprimir Receitas
                        </button>
                    </div>

                </div>
            </div>

            <!-- Informa√ß√µes Adicionais -->
            <div style="background: #e3f2fd; border-radius: 8px; padding: 15px; margin-top: 20px; border-left: 4px solid #2196f3;">
                <h5 style="color: #1976d2; margin-bottom: 10px;">üí° Dicas de Impress√£o:</h5>
                <ul style="margin: 0; padding-left: 20px; color: #666; font-size: 13px;">
                    <li><strong>Preparos:</strong> Para a equipe de cozinha - mostra apenas ingredientes e quantidades</li>
                    <li><strong>Lista de Produtos:</strong> Para compras - consolida todos os produtos necess√°rios</li>
                    <li><strong>Receitas Completas:</strong> Para o cozinheiro - inclui modo de preparo detalhado</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal Visualizar Receita -->
    <div id="modalVisualizarReceita" class="modal">
        <div class="modal-content modal-receita">
            <span class="close" onclick="fecharModal('modalVisualizarReceita')">&times;</span>
            <div class="receita-header">
                <h2 id="tituloReceitaModal">Nome da Receita</h2>
                <div class="receita-info">
                    <span id="rendimentoReceitaModal">Rendimento: -</span>
                    <span id="pesoReceitaModal">Peso: -</span>
                    <span id="precoReceitaModal">Pre√ßo: -</span>
                </div>
            </div>
            
            <div class="receita-tabs">
                <button class="receita-tab active" onclick="showReceitaTab('preparo')">Modo de Preparo</button>
                <button class="receita-tab" onclick="showReceitaTab('ingredientes')">Ingredientes</button>
            </div>
            
            <div id="preparo-tab" class="receita-tab-content active">
                <div id="textoReceitaModal" class="receita-preparo-content">
                    <!-- Conte√∫do do modo de preparo ser√° inserido aqui -->
                </div>
            </div>
            
            <div id="ingredientes-tab" class="receita-tab-content">
                <div id="ingredientesReceitaModal" class="receita-ingredientes-content">
                    <!-- Lista de ingredientes ser√° inserida aqui -->
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="imprimirReceitaModal()">Imprimir</button>
                <button class="btn btn-secondary" onclick="editarReceitaModal()">Editar</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/produtos.js"></script>
    <script src="js/receitas.js"></script>
    <script src="js/tipos-refeicoes.js"></script>
    <script src="js/clientes.js"></script>
    <script src="js/cardapio.js"></script>

    <!-- Estilos adicionais para os modais melhorados -->
    <style>
    .form-section {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid #e9ecef;
    }

    .form-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
    }

    .form-section h4 {
        color: #495057;
        margin-bottom: 15px;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .checkbox-list {
        max-height: 150px;
        overflow-y: auto;
        border: 1px solid #e9ecef;
        border-radius: 5px;
        padding: 10px;
        background: white;
    }

    .checkbox-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 5px 0;
    }

    .checkbox-item input[type="checkbox"] {
        margin: 0;
    }

    .checkbox-item label {
        margin: 0;
        cursor: pointer;
        flex: 1;
    }

    .btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .btn-info {
        background: #17a2b8;
        color: white;
    }

    .btn-info:hover {
        background: #138496;
        transform: translateY(-2px);
    }
    </style>
</body>
</html>